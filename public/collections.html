<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Collections - SimpleSurvival Collectibles</title>
    <link rel="stylesheet" href="/css/home-page.css" />
    <link rel="stylesheet" href="/css/collections.css" />
    <link rel="stylesheet" href="/css/globalModal.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />
    <link rel="icon" href="/favicon.png" type="image/png" />
  </head>
  <body>

    <div id="preloader">
    <div class="loader"></div>
    </div>

    <nav>
      <div class="nav-content">

        <div class="nav-logo">
          <a href="/">
            <img src="/assets/Logo.png" alt="SimpleSurvival Collectibles Logo" />
          </a>
        </div>

        <ul class="nav-links">
          <li><a href="/">Home</a></li>
          <li><a href="/info">About</a></li>
          <li><a href="/crates">Cosmetic Crates</a></li>
          <li><a href="/othercrates">Other Crates</a></li>
          <li><a href="/advent-calendars">Advent Calendars</a></li>
        </ul>

        <ul class="nav-login" id="navLogin">
          <!-- This will be dynamically updated -->
          <li id="loginItem"><a href="/login">Login</a></li>
        </ul>

      </div>
    </nav>

  <div class="collections-board">
    <!-- ===== Page Title (matches source title-wrapper) ===== -->
    <section class="page-title-wrap pt-4rm">
      <div class="container page-title-container">
        <div class="page-title-row">
          <h1 class="page-title">My Collections</h1>
          <a href="/" class="link-primary text-sm">Back to Home</a>
        </div>
      </div>
    </section>

    <!-- Collections KPI Row -->
    <div class="kpis-grid collections-kpis" id="collectionsKpis">
      <!-- Last crate updated -->
      <div class="kpi-card">
        <span class="kpi-icon kpi-blue"><i class="lni lni-timer"></i></span>
        <div class="kpi-meta">
          <span class="kpi-title">Last crate updated</span>
          <span class="kpi-value" id="kpi-last-updated">—</span>
        </div>
        <span class="kpi-foot" id="kpi-last-updated-foot">No saves yet</span>
      </div>

      <!-- Top crate progress -->
      <div class="kpi-card">
        <span class="kpi-icon kpi-green"><i class="lni lni-graph"></i></span>
        <div class="kpi-meta">
          <span class="kpi-title">Top crate progress</span>
          <span class="kpi-value" id="kpi-top-crate">—</span>
        </div>
        <span class="kpi-foot" id="kpi-top-crate-foot">—</span>
      </div>

      <!-- Crates completed -->
      <div class="kpi-card">
        <span class="kpi-icon kpi-purple"><i class="lni lni-archive"></i></span>
        <div class="kpi-meta">
          <span class="kpi-title">Crates completed</span>
          <span class="kpi-value" id="kpi-crates-completed">—</span>
        </div>
        <span class="kpi-foot" id="kpi-crates-total">—</span>
      </div>

      <!-- Reserved button card (disabled) -->
      <div class="kpi-card">
        <span class="kpi-icon kpi-orange"><i class="lni lni-share"></i></span>
        <div class="kpi-meta">
          <span class="kpi-title">Share Collection</span>
          <button id="shareCollectionBtn" class="mini-btn" disabled title="Coming soon">Coming soon</button>
        </div>
        <span class="kpi-foot" id="shareCountdown"></span>
      </div>
    </div>

    <hr class="collections-divider" />

    <div class="collections-body" id="collectionsContainer">
      <!-- Crate cards will be injected here -->
    </div>
  </div>

    <!-- Modal -->
    <div class="custom-modal" id="crateModal">
    <div class="custom-modal-overlay" onclick="closeModal()"></div>
    <div class="custom-modal-content fade-in" id="crateModalContent">
        <div class="modal-header">
        <h3 id="crateTitle">Crate Name</h3>
        <button class="close-btn" onclick="closeModal()">&times;</button>
        </div>
        <hr class="about-divider">

        <div class="search-controls-card" role="group" aria-labelledby="searchControlsTitle">
          <div class="search-controls-title" id="searchControlsTitle">Search and Filter Options</div>

          <div class="search-controls">
            <div class="search-input">
              <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path d="M21 20l-5.6-5.6a7.5 7.5 0 10-1.4 1.4L20 21l1-1zM4 10a6 6 0 1112 0A6 6 0 014 10z"/>
              </svg>
              <input id="crateSearch" type="text" placeholder="Search item by name..." />
            </div>

            <div class="filter-group">
              <label class="filter-label" for="crateFilter">Filter by:</label>
              <select id="crateFilter" class="filter-select" aria-label="Filter items">
                <option value="default">Default (A–Z)</option>
                <option value="missing-first">Missing items first</option>
                <option value="missing-only">Missing items only</option>
              </select>
            </div>
          </div>
        </div>

        <div class="modal-body">
        <div id="accordionContainer" class="acc-wrapper"></div>
        </div>
        <div class="modal-footer">
        <button id="selectAllBtn" class="btn-secondary">Select All</button>
        <button id="cancelProgressBtn" class="btn-secondary">Cancel</button>
        <button id="saveProgressBtn" class="btn-primary">Save</button>
        </div>
    </div>
        <div id="modalSavingOverlay">
        <div class="modal-spinner"></div>
        <p>Saving your crate data...</p>
        </div>
    </div>


    <div id="toastContainer"></div>

    <footer>
      <div class="footer-creator">
        <p>Created by YooEm</p>
      </div>
      <div class="footer-links">
        <p><strong>Disclaimer:</strong> This is a fan-made website and is not affiliated with or endorsed by the SimpleSurvival Minecraft server or its owners.</p>
        <p><a href="/privacy">Privacy Policy</a> | <a href="/terms">Terms of Use</a> | <a href="/info#faq">FAQ</a></p>
      </div>
    </footer>
    <script defer src="/js/globalModal.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="/js/scripts.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/collections.js"></script>
  </body>
</html>
